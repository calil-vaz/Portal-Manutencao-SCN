<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Manutenção SCN | Grupo Pereira</title>
    <link rel="stylesheet" href="../global.css">
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" href="../img/icon-gp-pereira.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <img class="logo-gp-pereira" src="../img/logo-gp-pereira.svg" alt="Logo do Grupo Pereira">
            </div>
            
             <!-- Filtros integrados na navbar -->
            <div class="navbar-toggle" id="navbar-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <div class="navbar-filters">
                <div class="filter-group">
                    <i class="fas fa-building filter-icon"></i>
                    <select id="filial-filter" class="filter-select"><option value="">Todas as Filiais</option><option value="11">Filial 11</option><option value="85">Filial 85</option><option value="115">Filial 115</option><option value="135">Filial 135</option><option value="165">Filial 165</option><option value="182">Filial 182</option><option value="183">Filial 183</option><option value="187">Filial 187</option><option value="190">Filial 190</option><option value="194">Filial 194</option><option value="195">Filial 195</option><option value="198">Filial 198</option><option value="213">Filial 213</option><option value="214">Filial 214</option><option value="223">Filial 223</option><option value="225">Filial 225</option><option value="250">Filial 250</option><option value="255">Filial 255</option><option value="270">Filial 270</option><option value="294">Filial 294</option><option value="295">Filial 295</option><option value="305">Filial 305</option><option value="309">Filial 309</option><option value="310">Filial 310</option><option value="325">Filial 325</option><option value="335">Filial 335</option><option value="375">Filial 375</option><option value="384">Filial 384</option><option value="385">Filial 385</option><option value="405">Filial 405</option><option value="420">Filial 420</option><option value="479">Filial 479</option><option value="480">Filial 480</option><option value="492">Filial 492</option><option value="561">Filial 561</option><option value="825">Filial 825</option><option value="897">Filial 897</option><option value="905">Filial 905</option></select>
                </div>
                
                <button id="clear-filters" class="btn-clear">
                    <i class="fas fa-times"></i>
                    Limpar
                </button>
            </div>
        </div>
    </nav>
    <div class="container">
        <!-- Header -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">
                    <i class="fas fa-chart-line hero-icon"></i>
                    Portal Manutenção
                </h1>
                <p class="hero-subtitle">Solicitações dos Gerentes das Lojas - Regional SCN</p>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <i class="fas fa-clock"></i>
                        <a class="link" href="../">Acompanhamento Mensal</a>
                    </div>
                    <div class="hero-stat">
                        <i class="fas fa-shield-alt"></i>
                        <a class="link" href="../OS/">Ordens de Serviço</a>
                    </div>
                    <div class="hero-stat">
                        <i class="fas fa-mobile-alt"></i>
                        <a class="link" href="/Tarefas">Tarefas</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="stats-section">
            <h2 class="section-title">
                <i class="fas fa-chart-bar"></i>
                Estatísticas Gerais
            </h2>
            <div class="stats-grid">
                <div class="stat-card total-demands">
                    <div class="stat-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Total de Tarefas</h3>
                        <p class="stat-number" id="total-demandas">0</p>
                        <span class="stat-trend">
                            <i class="fas fa-arrow-up"></i>
                            Todas as solicitações
                        </span>
                    </div>
                </div>
                
                <div class="stat-card with-order">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Demandas Concluídas</h3>
                        <p class="stat-number" id="demandas-com-OS-SS">0</p>
                        <span class="stat-trend">
                            <i class="fas fa-thumbs-up"></i>
                            Tratadas no Engeman
                        </span>
                    </div>
                </div>
                
                <div class="stat-card no-value">
                    <div class="stat-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Demandas pendentes</h3>
                        <p class="stat-number" id="total-demandas-pendentes">0</p>
                        <span class="stat-trend">
                            <i class="fas fa-attention"></i>
                            Demandas sem S.S. / O.S.
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <section class="charts-section">
            <h2 class="section-title">
                <i class="fas fa-chart-pie"></i>
                Análise Visual dos Dados
            </h2>

            <div class="charts-grid">
                <div class="chart-container" id="donut-chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-info-circle"></i> Demandas Concluídas x Pendentes</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="donut-chart" style="box-sizing: border-box; display: block; height: 336px; width: 358px;" width="448" height="420"></canvas>
                    </div>
                </div>
                
                <div class="chart-container" id="stacked-bar-chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-bar"></i> Demandas por Filial</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div style="text-align: center;" class="chart-wrapper">
                        <canvas id="stacked-bar-chart" style="box-sizing: border-box; display: block; height: 336px; width: 358px;" width="448" height="420"></canvas>
                    </div>
                </div>

                <div id="goal-table-container" class="table-full-width">
                    <!-- Tabela de Metas Diárias será inserida aqui (Requisito 5) -->
                </div>
                
                <!-- <div class="chart-container" id="chart-container-generic">
                    <div class="chart-header">
                        <h3><i class="fas fa-tools"></i> Corretiva vs Preventiva</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="corretiva-preventiva-chart" style="box-sizing: border-box; display: block; height: 336px; width: 358px;" width="448" height="420"></canvas>
                    </div>
                </div> -->
                
                <!-- <div class="chart-container chart-wide">
                    <div class="chart-header">
                        <h3><i class="fas fa-store"></i> Top 15 Filiais por Demandas</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="top-filiais-chart" style="box-sizing: border-box; display: block; height: 336px; width: 1270px;" width="1588" height="420"></canvas>
                    </div>
                </div> -->
            </div>

            <!-- <div class="charts-grid">
                <div class="chart-container" id="chart-container-generic">
                    <h3>Status da Requisição</h3>
                    <canvas id="nimbi-chart"></canvas>
                </div>
                <div class="chart-container" id="chart-container-generic">
                    <h3>Status do Pedido</h3>
                    <canvas id="status-pedido-chart"></canvas>
                </div>
                <div class="chart-container" id="chart-container-generic">
                    <h3>Corretiva vs Preventiva</h3>
                    <canvas id="corretiva-preventiva-chart"></canvas>
                </div>
                <div class="chart-container chart-wide">
                    <h3>Quantidade de Solicitações por Filial</h3>
                    <canvas id="top-filiais-chart"></canvas>
                </div>
            </div> -->
        </section>

        <!-- Gráficos -->
            <section class="tables-section">
                <h2 class="section-title">
                    <i class="fas fa-table"></i>
                    Tabelas de Análise
                </h2>
                <div id="monthly-average-table-container" class="table-full-width">
                    <!-- Tabela de Média Mensal será inserida aqui (Requisito 4) -->
                </div>
                
            </section>
        
</div>
       
    <footer class="footer">
        
        <div class="footer-bottom">
            <p>Desenvolvido por Calil Asir Vaz Velozo - PCM SCN</p>
        </div>
    </footer>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>

<script src="data_processing.js"></script>
<script src="scripts.js"></script>
</body>
</html>